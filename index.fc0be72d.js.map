{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SCCAC,EAAAD,EAAA,SAEOE,eAAeC,EAAmBC,GACvCC,EAAAJ,GAASK,QAAQC,KAAK,eAUtB,IAME,OAFAF,EAAAJ,GAASK,QAAQE,SAbKN,OAAMO,IAC5B,MAAMC,QAAiBC,MACrB,+DAA+DF,KAE3DG,QAAaF,EAASG,OAG5B,OADAR,EAAAJ,GAASK,QAAQE,SACVI,CAAI,EAQJE,CAAgBV,E,CACvB,MAAOW,GACPV,EAAAJ,GAASK,QAAQE,SACjBH,EAAAJ,GAASe,OAAOC,QAAQ,0CACxBC,QAAQC,IAAIJ,E,ECxBhBhB,EAAAC,EAAA,aCAAoB,EAAApB,EAAA,SAEO,SAASqB,EAAwBT,GACtC,MAAO,qDAECA,EACCU,KAAIC,GACI,8DAEH,EAAAH,EAAAI,kBAAiBD,sCAItBE,KAAK,wB,CDZhB,MAAMC,mBAAEC,IAAuB,EAAA5B,EAAA6B,WAIxB,SAASC,EAAsBjB,GACpC,MAAMkB,EAAST,EAAwBT,GACvCe,EAAmBI,UAAYD,C,CEPjC/B,EAAAC,EAAA,SACA,MAAMgC,kBAAEC,EAAiBC,YAAEC,IAAgB,EAAApC,EAAA6B,WAcpC,SAASQ,EAAYC,GAC1BC,OAAOC,OAAO,CACZC,IAAK,EACLC,SAAU,U,CAfe,IAAIC,sBAEjC,SAAYC,GACVA,EAAQC,SAAQC,IACTA,EAAMC,eAGTb,EAAkBc,UAAUC,IAAI,UAFhCf,EAAkBc,UAAUvC,OAAO,SAEM,G,IAYjCyC,QAAQd,GACtBF,EAAkBiB,iBAAiB,QAASd,GCvB5CrC,EAAAC,EAAA,SACA,MAAMmD,UAAEC,IAAc,EAAArD,EAAA6B,WAEf,SAASyB,EAAgBC,GAE9B,MAAMC,EAAkBD,EAAGE,MAAM,KAAKC,MAAM,GAAG,GAAIhC,KAAK,KAElDiC,EAAQJ,EAAGE,MAAM,KACjBG,EAAWD,EAAMA,EAAME,OAAS,GAEtCR,EAAUrB,UAAY,GAAGwB,gDAA8DI,U,CLTzF,MAAME,oBAAEC,IAAwB,EAAA/D,EAAA6B,WAQhCkC,EAAoBZ,iBAAiB,SAErChD,eAAsC6D,GACpC,IAAKA,EAAEC,OAAOjB,UAAUkB,SAAS,gBAAiB,OAElD,MAAMX,EAAKS,EAAEC,OAAOE,QAAQZ,GACtB1C,QAAaT,EAAmBmD,GAEtCD,EAAgBC,GAEhB,MAAMa,EAAgBC,SAASC,iBAAiB,iBAC1CC,EAAoBF,SAASG,cAAc,oBACjD,IAAK,MAAMC,KAAOL,EACZK,EAAIN,QAAQZ,KAAOA,GACrBkB,EAAIzB,UAAUC,IAAI,mBAGtBsB,EAAkBvB,UAAUvC,OAAO,mBAEnCqB,EAAsBjB,GACtBwB,G","sources":["src/js/seeMore.js","src/js/fetchSelectedBooks.js","src/js/renderSelectedCategory.js","src/js/allBooksMarkup.js","src/js/back-to-top.js","src/js/render-main-title.js"],"sourcesContent":["import getRefs from './refs';\nconst { categoryContainerEl } = getRefs();\n\nimport { fetchSelectedBooks } from './fetchSelectedBooks';\nimport { renderBooksByCategory } from './renderSelectedCategory';\nimport { scrollToTop } from './back-to-top';\nimport { renderMainTitle } from './render-main-title';\n\n\ncategoryContainerEl.addEventListener('click', seeMoreBtnClickHandler);\n\nasync function seeMoreBtnClickHandler(e) {\n  if (!e.target.classList.contains('see-more-btn')) return;\n\n  const id = e.target.dataset.id;\n  const data = await fetchSelectedBooks(id);\n\n  renderMainTitle(id);\n\n  const categoriesBtn = document.querySelectorAll('.category-btn');\n  const activeCategoryBtn = document.querySelector('.active-category');\n  for (const btn of categoriesBtn) {\n    if (btn.dataset.id === id) {\n      btn.classList.add('active-category');\n    }\n  }\n  activeCategoryBtn.classList.remove('active-category');\n\n  renderBooksByCategory(data);\n  scrollToTop();\n}\n","// import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nexport async function fetchSelectedBooks(category) {\n  Notiflix.Loading.dots('Please wait');\n  const categoriesArray = async category => {\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/category?category=${category}`\n    );\n    const data = await response.json();\n    // console.log(data);\n    Notiflix.Loading.remove();\n    return data;\n  };\n  try {\n    // const { data } = await axios.get(\n    //   `https://books-backend.p.goit.global/books/category?category=${category}`\n    // );\n    Notiflix.Loading.remove();\n    // return data;\n    return categoriesArray(category);\n  } catch (error) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Something went wrong. Please try again');\n    console.log(error);\n  }\n}\n","import getRefs from './refs';\nconst { renderingContainer } = getRefs();\n\nimport { makeCategoryBooksMarkup } from './allBooksMarkup';\n\nexport function renderBooksByCategory(data) {\n  const markup = makeCategoryBooksMarkup(data);\n  renderingContainer.innerHTML = markup;\n}\n","import { createBookMarkup } from './oneBookMarkup';\n\nexport function makeCategoryBooksMarkup(data) {\n  return `\n      <ul class=\"category-books-list\">\n        ${data\n          .map(element => {\n            return `\n            <li class=\"books-list-item\">\n              ${createBookMarkup(element)}\n            </li>\n          `;\n          })\n          .join('')}\n      </ul>\n    `;\n}\n","import getRefs from './refs';\nconst { scrollToTopButton, toTopTarget } = getRefs();\n\nexport const toTopObserver = new IntersectionObserver(cb);\n\nfunction cb(entries) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      scrollToTopButton.classList.remove('hidden');\n    } else {\n      scrollToTopButton.classList.add('hidden');\n    }\n  });\n}\n\nexport function scrollToTop(event) {\n  window.scroll({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\ntoTopObserver.observe(toTopTarget);\nscrollToTopButton.addEventListener('click', scrollToTop);\n","import getRefs from './refs';\nconst { mainTitle } = getRefs();\n\nexport function renderMainTitle(id) {\n  //\n  const allWordsButLast = id.split(' ').slice(0, -1).join(' ');\n\n  const words = id.split(' ');\n  const lastWord = words[words.length - 1];\n\n  mainTitle.innerHTML = `${allWordsButLast} <span class=\"main-title--last-word-static\">${lastWord}</span>`;\n}\n"],"names":["$krGWQ","parcelRequire","$7Y9D8","async","$d016d03f97ebfb8d$export$a18ca9cdd4a7f115","category1","$parcel$interopDefault","Loading","dots","remove","category","response","fetch","data","json","categoriesArray","error","Notify","failure","console","log","$hQgTn","$3a99b9659cbef9dd$export$ca850cdbb840cfa","map","element","createBookMarkup","join","renderingContainer","$63cfc693a4610448$var$renderingContainer","default","$63cfc693a4610448$export$e3a458789c8a5044","markup","innerHTML","scrollToTopButton","$debdc42bca9e903e$var$scrollToTopButton","toTopTarget","$debdc42bca9e903e$var$toTopTarget","$debdc42bca9e903e$export$f5d3771428a1f489","event","window","scroll","top","behavior","IntersectionObserver","entries","forEach","entry","isIntersecting","classList","add","observe","addEventListener","mainTitle","$9827c0f25c46286e$var$mainTitle","$9827c0f25c46286e$export$86c67608665d4c5e","id","allWordsButLast","split","slice","words","lastWord","length","categoryContainerEl","$efdb26985acba9db$var$categoryContainerEl","e","target","contains","dataset","categoriesBtn","document","querySelectorAll","activeCategoryBtn","querySelector","btn"],"version":3,"file":"index.fc0be72d.js.map"}
{"mappings":"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","sources":["src/js/seeMore.js","src/js/fetchSelectedBooks.js","src/js/renderSelectedCategory.js","src/js/allBooksMarkup.js","src/js/back-to-top.js","src/js/render-main-title.js"],"sourcesContent":["import getRefs from './refs';\nconst { categoryContainerEl } = getRefs();\n\nimport { fetchSelectedBooks } from './fetchSelectedBooks';\nimport { renderBooksByCategory } from './renderSelectedCategory';\nimport { scrollToTop } from './back-to-top';\nimport { renderMainTitle } from './render-main-title';\n\n\ncategoryContainerEl.addEventListener('click', seeMoreBtnClickHandler);\n\nasync function seeMoreBtnClickHandler(e) {\n  if (!e.target.classList.contains('see-more-btn')) return;\n\n  const id = e.target.dataset.id;\n  const data = await fetchSelectedBooks(id);\n\n  renderMainTitle(id);\n\n  const categoriesBtn = document.querySelectorAll('.category-btn');\n  const activeCategoryBtn = document.querySelector('.active-category');\n  for (const btn of categoriesBtn) {\n    if (btn.dataset.id === id) {\n      btn.classList.add('active-category');\n    }\n  }\n  activeCategoryBtn.classList.remove('active-category');\n\n  renderBooksByCategory(data);\n  scrollToTop();\n}\n","// import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nexport async function fetchSelectedBooks(category) {\n  Notiflix.Loading.dots('Please wait');\n  const categoriesArray = async category => {\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/category?category=${category}`\n    );\n    const data = await response.json();\n    // console.log(data);\n    Notiflix.Loading.remove();\n    return data;\n  };\n  try {\n    // const { data } = await axios.get(\n    //   `https://books-backend.p.goit.global/books/category?category=${category}`\n    // );\n    Notiflix.Loading.remove();\n    // return data;\n    return categoriesArray(category);\n  } catch (error) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Something went wrong. Please try again');\n    console.log(error);\n  }\n}\n","import getRefs from './refs';\nconst { renderingContainer } = getRefs();\n\nimport { makeCategoryBooksMarkup } from './allBooksMarkup';\n\nexport function renderBooksByCategory(data) {\n  const markup = makeCategoryBooksMarkup(data);\n  renderingContainer.innerHTML = markup;\n}\n","import { createBookMarkup } from './oneBookMarkup';\n\nexport function makeCategoryBooksMarkup(data) {\n  return `\n      <ul class=\"category-books-list\">\n        ${data\n          .map(element => {\n            return `\n            <li class=\"books-list-item\">\n              ${createBookMarkup(element)}\n            </li>\n          `;\n          })\n          .join('')}\n      </ul>\n    `;\n}\n","import getRefs from './refs';\nconst { scrollToTopButton, toTopTarget } = getRefs();\n\nexport const toTopObserver = new IntersectionObserver(cb);\n\nfunction cb(entries) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      scrollToTopButton.classList.remove('hidden');\n    } else {\n      scrollToTopButton.classList.add('hidden');\n    }\n  });\n}\n\nexport function scrollToTop(event) {\n  window.scroll({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\ntoTopObserver.observe(toTopTarget);\nscrollToTopButton.addEventListener('click', scrollToTop);\n","import getRefs from './refs';\nconst { mainTitle } = getRefs();\n\nexport function renderMainTitle(id) {\n  //\n  const allWordsButLast = id.split(' ').slice(0, -1).join(' ');\n\n  const words = id.split(' ');\n  const lastWord = words[words.length - 1];\n\n  mainTitle.innerHTML = `${allWordsButLast} <span class=\"main-title--last-word-static\">${lastWord}</span>`;\n}\n"],"names":["$bpxeT","parcelRequire","$c13773ff8d853e3c$export$a18ca9cdd4a7f115","category1","$c13773ff8d853e3c$var$_fetchSelectedBooks","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","categoriesArray","$6JpON","Loading","dots","_callee","category","response","data","fetch","concat","_ctx","sent","json","remove","Notify","failure","console","log","_ctx1","t0","$4Nugj","$3zcse","$9e587759d205c9db$export$ca850cdbb840cfa","map","element","createBookMarkup","join","$2614d36c4a0f4415$var$renderingContainer","default","renderingContainer","$2614d36c4a0f4415$export$e3a458789c8a5044","markup","innerHTML","$8b39b8249f96b57e$var$ref","$8b39b8249f96b57e$var$scrollToTopButton","scrollToTopButton","$8b39b8249f96b57e$var$toTopTarget","toTopTarget","$8b39b8249f96b57e$export$f5d3771428a1f489","event","window","scroll","top","behavior","IntersectionObserver","entries","forEach","entry","isIntersecting","classList","add","observe","addEventListener","$25cd9022db468e7a$var$mainTitle","mainTitle","$25cd9022db468e7a$export$86c67608665d4c5e","id","allWordsButLast","split","slice","words","lastWord","length","$443e93a242c350ee$var$_seeMoreBtnClickHandler","e","categoriesBtn","activeCategoryBtn","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","btn","target","contains","dataset","document","querySelectorAll","querySelector","undefined","Symbol","iterator","next","done","value","return","categoryContainerEl"],"version":3,"file":"index.5e4ecd93.js.map"}